<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/@shower/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
</head>
<body class="shower list">

    <header class="caption">
        <h1>NoSql (Not Only Sql Databases)</h1>
    </header>

    <section class="slide">
        <h2 class="shout">Нереляционные СУБД.</h2>
    </section>

    <section class="slide">
        <h2>План доклада</h2>
        <ul>
            <li>Введение</li>
            <li>Какие проблемы есть у реляционных БД?</li>
            <li>Как NoSql порешал эти проблемы?</li>
            <li>Виды</li>
            <li>Принцип работы</li>
            <li>Отличия от реляционных субд</li>
            <li>Сфера и практика применения</li>
            <li>Разбор конкретных субд с примерами</li>
        </ul>
    </section>
    <section class="slide">
        <h2>Введение</h2>
        <ul>
            <li>NoSql - пример подхода к решению задачи масштабируемости, гибкости модели данных и минимальных временных задержек на обработку данных.</li>
            <li class="next">Первые применили - Google.</li>
            <li class="next">Развили и явили народу - Facebook, IBM, Apache.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Какие проблемы есть у реляционных БД?</h2>
        <ul>
            <li class="next">Привязанность к схеме данных.</li>
            <li class="next">Большая временная задержка (low-latency), которая не позволяет обрабатывать большой объем данных с разной структурой.</li>
            <li class="next">Существуют принципиальные (реляционные) проблемы при горизонтальном масштабировании кластера.</li>
        </ul>
    </section>

    <section class="slide">
        <img src="pictures/ozisuwybs1e51.jpg" class="cover">
    </section>

    <section class="slide">
        <h2>Как NoSql порешал эти проблемы?</h2>
        <ul>
            <li>Схемы данных нет вообще.</li>
            <li class="next">Данные почти всегда хранятся в оперативной памяти.</li>
            <li class="next">Self-contained объекты > Реляционная алгебра.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Виды</h2>
        <ul>
            <li>Колоночные (Column family) - разреженные матрицы в памяти, commit log  на диске. (Hadoop, Cassandra, Big Table)</li>
            <li class="next">Ключ-значение (Key-value) - большая хеш-таблица. (Redis, DynamoDB)</li>
            <li class="next">Документно-ориентированное хранилище - структурированный документ json-подобный. (MongoDB)</li>
            <li class="next">Графовое хранилище - сеть из узлов и рёбер с индексами. (Amazon Neptune)</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Виды. Иллюстрация</h2>
        <img src="pictures/нскл_2.png" class="cover">
    </section>

    <section class="slide">
        <h2>Принцип работы. Общая информация.</h2>
        <ul>
            <li>Данные хранятся почти всегда в памяти.</li>
            <li class="next">ACID vs BASE. Безопасность - на поруки разработчиков.</li>
            <li class="next">Sharding. Self-contained объекты vs JOIN.</li>
            <li class="next">Новая СУБД - новый язык.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Отличия от реляционных субд. Колоночные СУБД.</h2>
        <ul>
            <li>Одна огромная таблица с данными.</li>
            <li class="next">Внешние ключи, колоночные семейства, колонки.</li>
            <li class="next">Информация в виде непрерывной записи.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Реляционная БД - View. Колоночные СУБД.</h2>
        <img src="pictures/table2.png" class="cover">
    </section>

    <section class="slide">
        <img src="pictures/googlebigtable.png" class="cover">
    </section>

    <section class="slide">
        <h2>Отличия от реляционных субд. Ключ-значение.</h2>
        <ul>
            <li>Отсутствие схемы данных - вместо неё - хеш-таблица.</li>
            <li class="next">Уникальный ключ + хранимый объект.</li>
            <li class="next">Забота об уникальности. Отсутствие транзакций из коробки.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Отличия от реляционных субд. MongoDB.</h2>
        <ul>
            <li>Полуструктуринованный документ, похожий на JSON/XML.</li>
            <li class="next">То же самое, что и ключ-значение, однако, с поиском и мета-информацией.</li>
            <li class="next">То же самое, что и sql, однако, с отсутствием схемы и возможностью разрежения.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Отличия от реляционных субд. Графовое хранилище.</h2>
        <ul>
            <li>Деревья данных. Система хранения вида "родитель - дети".</li>
            <li class="next">Каждая единица данных может быть чьим-то отпрыском (но только кого-то одного) и иметь сколько-то собственных отпрысков.</li>
        </ul>
    </section>
    <section class="slide">
            <img src="pictures/qwe.png" class="cover">
    </section>

    <section class="slide">
        <h2 class="shout">Сфера и практика примерения.</h2>
    </section>

    <section class="slide">
        <img src="pictures/1537785588113346811.jpg" class="cover">
    </section>

    <section class="slide">
        <h2>Сфера и практика примерения.</h2>
        <li>Кеширование</li>
        <li>Q&A данные</li>
        <li>Хранение документов</li>
        <li>Быстрый доступ к большим наборам данных</li>
    </section>

    <section class="slide">
        <h2>Громкие имена.</h2>
        <li>Spotify - рекомендации (Apache Cassandra)</li>
        <li>Twitter - real-time сообщения (Redis)</li>
        <li>Uber - уведомления (MongoDB)</li>
    </section>

    <section class="slide">
        <h2 class="shout">Можно ли прокачать реляционные БД?</h2>
    </section>

    <section class="slide">
        <h2 class="shout">Нет</h2>
    </section>

    <section class="slide">
        <h2>Ответ реляционных бд.</h2>
        <ul>
            <li>Введение типов полей JSON.</li>
            <li>Введение шардинга. Интересен - горизонтальный шардинг.</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">Описание конкретных СУБД.</h2>
    </section>

    <section class="slide">
        <h2>Redis. Установка.</h2>
        <ul>
            <li>sudo apt install redis-server</li>
            <li class="next">redis-cli ping</li>
            <li class="next">/etc/redis/redis.conf</li>
            <li class="next">Переименование опасных команд FLUSHDB, FLUSHALL, KEYS, PEXPIRE, DEL.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Redis. Режимы.</h2>
        <ul>
            <li>redis sentinel</li>
            <li class="next">redis cluster</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Redis. Синтаксис.</h2>
        <ul>
            <li>SET</li>
            <li>GET</li>
            <li>GETSET</li>
            <li>DEL</li>
            <li>TTL . SET foo EX 10</li>
            <li>LPUSH. RPUSH. LRANGE. MULTI.</li>
            <li>PUB / SUB</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Redis. Отказоустойчивость.</h2>
        <ul>
            <li>Стандартные механизмы - master/slave.</li>
            <li>Механизм бэкапов.</li>
            <li>Механизм бэкапов в случае кластерного шардинга данных.</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Apache Cassandra. Установка.</h2>
        <ul>
            <li>sudo apt install openjdk-8-jre</li>
            <li class="next">export JAVA_HOME="/usr/lib/jvm/java-8-openjdk-amd64/jre"</li>
            <li class="next">Добавляем ключи</li>
            <li class="next">sudo apt-get install cassandra</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Apache Cassandra. Режимы.</h2>
        <ul>
            <li>Все узлы cassandra всегда равнозначны между собой</li>
        </ul>
    </section>

    <section class="slide">
        <img src="pictures/кас3.png" class="cover">
    </section>

    <section class="slide">
        <h2>Apache Cassandra. Синтаксис.</h2>
        <p>Драйвер кассандры располагает диалектом SQL - CQL.</p>
        <ul>
            <li>USE для keyspace</li>
            <li class="next">CREATE для columnfamily</li>
            <li class="next">JOIN, GROUP BY нет в наличии</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Apache Cassandra. Отказоустойчивость.</h2>
        <ul>
            <li>Commit-log всех изменений</li>
            <li class="next">Чтение с восстановлением (read repair) — во время чтения данные запрашиваются со всех реплик и сравниваются уже после завершения координации.</li>
            <li class="next">Направленной отправки (hinted handoff) — позволяет сохранить информацию об операции записи на координаторе в том случае, если запись на какой-либо из узлов не удалась.</li>
            <li class="next">Анти-энтропийное восстановление узла (anti-entropy node repair)</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">Спасибо за внимание</h2>
    </section>

    <footer class="badge">
        <a href="https://github.com/shower/shower">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="node_modules/@shower/core/dist/shower.js"></script>
    <!-- Copyright © 2020 Yours Truly, Famous Inc. -->

</body>
</html>
